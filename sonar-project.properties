# SonarCloud Configuration
# https://sonarcloud.io

# Organization and Project keys (REQUIRED - Replace with your values)
sonar.organization=your-organization
sonar.projectKey=petclinic-dependability-analysis
sonar.projectName=Spring PetClinic Dependability Analysis

# Project Information
sonar.projectVersion=1.0
sonar.projectDescription=Comprehensive dependability analysis of Spring PetClinic application

# Source and Test Directories
sonar.sources=src/main/java
sonar.tests=src/test/java
sonar.java.binaries=target/classes
sonar.java.test.binaries=target/test-classes

# Encoding
sonar.sourceEncoding=UTF-8

# Language
sonar.language=java
sonar.java.source=17

# Coverage Reports (JaCoCo)
sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml
sonar.java.coveragePlugin=jacoco

# Exclusions
sonar.exclusions=\
  **/src/main/resources/**,\
  **/src/test/resources/**,\
  **/target/**,\
  **/generated/**,\
  **/*Test.java,\
  **/*Tests.java

# Test Exclusions
sonar.test.exclusions=\
  **/src/test/**

# Duplicate Detection
sonar.cpd.exclusions=\
  **/generated/**,\
  **/dto/**,\
  **/entity/**

# Quality Gate
# Fail if quality gate is RED
# sonar.qualitygate.wait=true

# Analysis Parameters
# New code definition (focus on new code changes)
sonar.newCode.referenceBranch=main

# Issue Detection
sonar.issue.ignore.multicriteria=e1,e2

# Ignore specific rules
# e1: Suppress "Use try-with-resources" for specific cases
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S2093
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Repository.java

# e2: Suppress "Add a nested comment" for tests
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S125
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*Test.java

# Code Smell Thresholds
sonar.technicalDebt.hoursInDay=8
sonar.technicalDebt.ratingGrid=0.05,0.1,0.2,0.5

# Security Hotspots
sonar.security.hotspots.mode=MONITOR

# Additional Properties for Analysis
sonar.links.homepage=https://github.com/YOUR_USERNAME/petclinic-dependability-analysis
sonar.links.ci=https://github.com/YOUR_USERNAME/petclinic-dependability-analysis/actions
sonar.links.issue=https://github.com/YOUR_USERNAME/petclinic-dependability-analysis/issues
sonar.links.scm=https://github.com/YOUR_USERNAME/petclinic-dependability-analysis

# Branch Analysis (for Pull Requests)
# sonar.branch.name=feature/my-feature
# sonar.pullrequest.key=123
# sonar.pullrequest.branch=feature/my-feature
# sonar.pullrequest.base=main

# ============================================
# SETUP INSTRUCTIONS:
# ============================================
# 1. Create account on https://sonarcloud.io
# 2. Create new project and get your:
#    - Organization key
#    - Project key
# 3. Generate token at https://sonarcloud.io/account/security
# 4. Update values above
# 5. Run analysis:
#    ./mvnw sonar:sonar -Dsonar.login=YOUR_TOKEN
# ============================================
