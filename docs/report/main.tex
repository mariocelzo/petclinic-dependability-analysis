\documentclass[12pt,a4paper]{article}

% ============================================
% PACKAGES
% ============================================
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{booktabs}
\usepackage{geometry}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usepackage{setspace}

% ============================================
% PAGE SETUP
% ============================================
\geometry{
    a4paper,
    left=2.5cm,
    right=2.5cm,
    top=3cm,
    bottom=3cm
}

% Fix fancyhdr warning
\setlength{\headheight}{14.5pt}
\addtolength{\topmargin}{-2.5pt}

% ============================================
% HEADER & FOOTER
% ============================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small Spring PetClinic Dependability Analysis}
\fancyhead[R]{\thepage}
\fancyfoot[C]{\small Software Dependability -- A.Y. 2024/2025}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% ============================================
% CODE LISTINGS SETUP
% ============================================
\lstset{
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{green!60!black},
    stringstyle=\color{red},
    showstringspaces=false,
    captionpos=b
}

% Define YAML language for listings
\lstdefinelanguage{YAML}{
    keywords={true,false,null,y,n},
    sensitive=false,
    comment=[l]{\#},
    morecomment=[s]{/*}{*/},
    morestring=[b]',
    morestring=[b]"
}

% Define Dockerfile language for listings
\lstdefinelanguage{Dockerfile}{
    keywords={FROM,RUN,CMD,LABEL,MAINTAINER,EXPOSE,ENV,ADD,COPY,ENTRYPOINT,VOLUME,USER,WORKDIR,ARG,ONBUILD,STOPSIGNAL,HEALTHCHECK,SHELL,AS},
    sensitive=false,
    comment=[l]{\#},
    morestring=[b]',
    morestring=[b]"
}

% ============================================
% HYPERLINKS
% ============================================
\hypersetup{
    colorlinks=true,
    linkcolor=blue!70!black,
    filecolor=magenta,
    urlcolor=blue!60!black,
    citecolor=green!50!black,
    pdftitle={Spring PetClinic Dependability Analysis},
    pdfauthor={Mario Celzo},
}

% ============================================
% DOCUMENT BEGIN
% ============================================
\begin{document}

% ============================================
% TITLE PAGE
% ============================================
\begin{titlepage}
    \centering
    
    % University header
    \vspace*{1cm}
    
    {\Large\textsc{Universit√† degli Studi di Salerno}}\\[0.3cm]
    {\large\textsc{Dipartimento di Informatica}}\\[1.5cm]
    
    % Course name
    {\large Corso di}\\[0.2cm]
    {\Large\textbf{Software Dependability}}\\[0.3cm]
    {\normalsize Anno Accademico 2024/2025}\\[2cm]
    
    % Title
    \rule{\textwidth}{1.5pt}\\[0.5cm]
    {\Huge\bfseries Spring PetClinic}\\[0.3cm]
    {\LARGE Comprehensive Dependability Analysis}\\[0.5cm]
    \rule{\textwidth}{1.5pt}\\[2cm]
    
    % Author and info
    \begin{minipage}[t]{0.45\textwidth}
        \begin{flushleft}
            \large\textit{Autore:}\\
            \Large\textbf{Mario Celzo}
        \end{flushleft}
    \end{minipage}
    \hfill
    \begin{minipage}[t]{0.45\textwidth}
        \begin{flushright}
            \large\textit{Matricola:}\\
            \Large\textbf{0512118665}
        \end{flushright}
    \end{minipage}\\[2cm]
    
    % Project links
    \begin{center}
        \large\textbf{Risorse del Progetto}\\[0.5cm]
        \normalsize
        \begin{tabular}{rl}
            \textbf{Repository:} & \url{https://github.com/mariocelzo/petclinic-dependability-analysis}\\[0.2cm]
            \textbf{SonarCloud:} & \url{https://sonarcloud.io/project/overview?id=mariocelzo_petclinic-dependability-analysis}\\[0.2cm]
            \textbf{DockerHub:} & \url{https://hub.docker.com/r/wario03/petclinic-dependability}
        \end{tabular}
    \end{center}
    
    \vfill
    
    % Date
    {\large Dicembre 2025}
    
\end{titlepage}

% ============================================
% ABSTRACT
% ============================================
\newpage
\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}

This report presents a comprehensive dependability analysis of the Spring PetClinic application, a reference Spring Boot web application developed by the Spring Framework team for demonstrating framework capabilities. The analysis encompasses multiple dimensions of software quality, evaluated through nine distinct criteria covering static code analysis, test coverage assessment, mutation testing, performance benchmarking, security scanning, automated test generation, and containerization.

The evaluation employed industry-standard tools including SonarCloud for static analysis, JaCoCo for code coverage measurement, PITest for mutation testing, JMH for performance benchmarking, Randoop for automated test generation, SpotBugs with FindSecBugs for security analysis, and Docker for containerization. All analyses were integrated into a fully automated CI/CD pipeline using GitHub Actions.

Our findings demonstrate that Spring PetClinic exhibits excellent software quality characteristics. The codebase achieved a Triple-A rating from SonarCloud, indicating outstanding security, reliability, and maintainability with zero detected bugs or vulnerabilities. Test coverage reached 91.9\%, significantly exceeding the 80\% industry standard, while mutation testing revealed an 85\% mutation kill rate with 94\% test strength. Performance benchmarks established baseline metrics showing all critical operations complete in sub-millisecond time. The automated test generation campaign produced 500 additional regression tests, and security analysis identified only low-severity informational issues.

The project also documents significant technical challenges encountered during tool integration, particularly the compatibility issues between PITest and Spring Boot 4.0.0-M3's JUnit Platform version, and the OWASP Dependency-Check NVD API authentication changes. Solutions and workarounds are provided for future reference.

\vspace{0.5cm}
\noindent\textbf{Keywords:} Software Dependability, Code Coverage, Mutation Testing, Static Analysis, SonarCloud, Docker, CI/CD, GitHub Actions, Spring Boot, JMH, PITest

\newpage

% Table of Contents
\tableofcontents
\newpage

% List of Figures
\listoffigures
\addcontentsline{toc}{section}{List of Figures}
\newpage

% List of Tables
\listoftables
\addcontentsline{toc}{section}{List of Tables}
\newpage

% ============================================
% MAIN SECTIONS
% ============================================

\input{sections/01-introduction-revised}
\input{sections/02-background-revised}
\input{sections/03-methodology-revised}
\input{sections/04-analysis-revised}
\input{sections/05-results-revised}
\input{sections/06-improvements}
\input{sections/07-conclusions-revised}

% ============================================
% BIBLIOGRAPHY
% ============================================
\newpage
\nocite{*}
\bibliographystyle{plain}
\bibliography{bibliography}

% ============================================
% APPENDICES
% ============================================
\newpage
\appendix

\section{Tool Configurations}
\label{app:configs}

\subsection{JaCoCo Configuration}
JaCoCo is integrated via the Maven plugin with default configuration, automatically generating HTML and XML reports during the \texttt{verify} phase. The plugin instruments bytecode at runtime to track line, branch, and method coverage without requiring source code modifications.

\subsection{PITest Configuration}
PITest mutation testing targets the \texttt{org.springframework.samples.petclinic} package with customized mutators including \texttt{CONDITIONALS\_BOUNDARY}, \texttt{NEGATE\_CONDITIONALS}, \texttt{MATH}, and the \texttt{RETURNS} mutator group. JVM arguments are configured for Java 21 module access compatibility.

\subsection{JMH Benchmark Configuration}
Benchmarks execute with 3 warmup iterations and 5 measurement iterations of 1 second each, using \texttt{AverageTime} mode in milliseconds. The H2 in-memory database profile ensures test isolation and reproducibility.

\section{Complete Analysis Commands}
\label{app:commands}

All analyses can be reproduced using the following Maven commands:

\begin{lstlisting}[language=bash, caption=Analysis Command Reference]
# Run all tests with coverage
./mvnw clean verify

# Generate JaCoCo report
./mvnw jacoco:report

# Execute mutation testing
./mvnw pitest:mutationCoverage

# Run JMH benchmarks
./mvnw test -Pbenchmark

# Security analysis
./mvnw spotbugs:check
\end{lstlisting}

\end{document}
